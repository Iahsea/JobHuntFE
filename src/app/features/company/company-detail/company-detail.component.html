<div class="company-detail-container">
    @if (isLoading()) {
    <div class="loading-spinner">
        <mat-icon>hourglass_empty</mat-icon>
        <p>Đang tải thông tin công ty...</p>
    </div>
    } @else if (company()) {

    <!-- Breadcrumb -->
    <div class="breadcrumb">
        <a routerLink="/">Home</a>
        <span>/</span>
        <a routerLink="/companies">Companies</a>
        <span>/</span>
        <span>{{ company()?.name }}</span>
    </div>

    <!-- PHẦN 1: Header với logo và thông tin công ty -->
    <div class="company-header">
        <div class="company-logo">
            <img [src]="'http://localhost:8080/storage/company/' + company()?.logo || 'assets/images/default-company.png'"
                 [alt]="company()?.name" />
        </div>

        <div class="company-info">
            <div class="company-name-badge">
                <h1>{{ company()?.name }}</h1>
                <span class="verified-badge">{{ company()?.jobCount || 0 }} Jobs</span>
            </div>

            @if (company()?.website) {
            <a [href]="company()?.website"
               target="_blank"
               class="company-website">
                {{ company()?.website }}
            </a>
            }

            <div class="company-meta-grid">
                <div class="meta-item">
                    <mat-icon>event</mat-icon>
                    <div>
                        <span class="meta-label">Founded</span>
                        <span class="meta-value">{{ company()?.foundedYear || 'July 31, 2011' }}</span>
                    </div>
                </div>

                <div class="meta-item">
                    <mat-icon>groups</mat-icon>
                    <div>
                        <span class="meta-label">Employees</span>
                        <span class="meta-value">{{ company()?.companySize || '400+' }}</span>
                    </div>
                </div>

                <div class="meta-item">
                    <mat-icon>location_on</mat-icon>
                    <div>
                        <span class="meta-label">Location</span>
                        <span class="meta-value">{{ company()?.address || '99 countries' }}</span>
                    </div>
                </div>

                <div class="meta-item">
                    <mat-icon>business</mat-icon>
                    <div>
                        <span class="meta-label">Industry</span>
                        <span class="meta-value">{{ company()?.industry || 'Payment Gateway' }}</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- PHẦN 2: Nội dung chính chia 2 cột -->
    <div class="company-content">
        <!-- Cột trái: Company Profile & Contact -->
        <div class="content-left">
            <div class="profile-section">
                <h2>Company Profile</h2>
                <div class="profile-content"
                     [innerHTML]="company()?.description"></div>
            </div>

            <div class="contact-section">
                <h2>Contact</h2>
                <div class="contact-links">
                    @if (company()?.socialLinks?.twitter) {
                    <a [href]="company()?.socialLinks?.twitter"
                       target="_blank"
                       class="contact-link">
                        <mat-icon>link</mat-icon>
                        <span>twitter.com/{{ company()?.name }}</span>
                    </a>
                    }

                    @if (company()?.socialLinks?.facebook) {
                    <a [href]="company()?.socialLinks?.facebook"
                       target="_blank"
                       class="contact-link">
                        <mat-icon>link</mat-icon>
                        <span>facebook.com/{{ company()?.name }}</span>
                    </a>
                    }

                    @if (company()?.socialLinks?.linkedin) {
                    <a [href]="company()?.socialLinks?.linkedin"
                       target="_blank"
                       class="contact-link">
                        <mat-icon>link</mat-icon>
                        <span>linkedin.com/company/{{ company()?.name }}</span>
                    </a>
                    }
                </div>
            </div>
        </div>

        <!-- Cột phải: Tech Stack -->
        <div class="content-right">
            <div class="tech-stack-section">
                <h2>Tech stack</h2>
                <p class="tech-description">Learn about the technology and tools that {{ company()?.name }} uses.</p>

                <div class="tech-grid">
                    <div class="tech-item">
                        <div class="tech-icon html5"></div>
                        <span>HTML 5</span>
                    </div>

                    <div class="tech-item">
                        <div class="tech-icon css3"></div>
                        <span>CSS 3</span>
                    </div>

                    <div class="tech-item">
                        <div class="tech-icon javascript"></div>
                        <span>JavaScript</span>
                    </div>

                    <div class="tech-item">
                        <div class="tech-icon ruby"></div>
                        <span>Ruby</span>
                    </div>

                    <div class="tech-item">
                        <div class="tech-icon mysql"></div>
                        <span>Myqsal</span>
                    </div>

                    <div class="tech-item">
                        <div class="tech-icon flutter"></div>
                        <span>Flutter</span>
                    </div>
                </div>

                <a href="#"
                   class="view-tech-stack">
                    View tech stack
                    <mat-icon>arrow_forward</mat-icon>
                </a>
            </div>
        </div>
    </div>

    }
</div>